Version 4
SHEET 1 2616 1448
WIRE -144 -304 -240 -304
WIRE 832 -304 -64 -304
WIRE 480 -224 112 -224
WIRE 608 -208 544 -208
WIRE 672 -208 608 -208
WIRE 480 -192 416 -192
WIRE -240 -160 -240 -304
WIRE -144 -160 -240 -160
WIRE 112 -160 112 -224
WIRE 112 -160 -80 -160
WIRE -240 -32 -240 -160
WIRE -240 -32 -352 -32
WIRE -160 -32 -240 -32
WIRE -16 -32 -80 -32
WIRE 112 -32 112 -160
WIRE 112 -32 -16 -32
WIRE 160 -32 112 -32
WIRE 256 -32 240 -32
WIRE 320 -32 256 -32
WIRE 416 -32 416 -192
WIRE 416 -32 384 -32
WIRE 464 -32 416 -32
WIRE 608 -32 608 -208
WIRE 608 -32 544 -32
WIRE 656 -32 608 -32
WIRE 768 -32 736 -32
WIRE 832 -32 832 -304
WIRE 832 -32 768 -32
WIRE -16 16 -16 -32
WIRE 832 16 832 -32
WIRE 112 32 112 -32
WIRE 416 96 416 -32
WIRE 416 96 384 96
WIRE 256 112 256 -32
WIRE 320 112 256 112
WIRE 768 128 768 -32
WIRE 768 128 384 128
WIRE -16 144 -16 96
WIRE 112 144 112 96
WIRE 832 176 832 96
WIRE 768 288 384 288
WIRE 320 304 256 304
WIRE -16 320 -16 272
WIRE 112 320 112 272
WIRE 416 320 384 320
WIRE 832 320 832 240
WIRE -240 448 -352 448
WIRE -160 448 -240 448
WIRE -16 448 -16 400
WIRE -16 448 -80 448
WIRE 112 448 112 384
WIRE 112 448 -16 448
WIRE 160 448 112 448
WIRE 256 448 256 304
WIRE 256 448 240 448
WIRE 320 448 256 448
WIRE 416 448 416 320
WIRE 416 448 384 448
WIRE 464 448 416 448
WIRE 608 448 544 448
WIRE 656 448 608 448
WIRE 768 448 768 288
WIRE 768 448 736 448
WIRE 832 448 832 400
WIRE 832 448 768 448
WIRE -240 576 -240 448
WIRE -144 576 -240 576
WIRE 112 576 112 448
WIRE 112 576 -80 576
WIRE 416 608 416 448
WIRE 480 608 416 608
WIRE 608 624 608 448
WIRE 608 624 544 624
WIRE 672 624 608 624
WIRE 112 640 112 576
WIRE 480 640 112 640
WIRE -240 720 -240 576
WIRE -144 720 -240 720
WIRE 832 720 832 448
WIRE 832 720 -64 720
FLAG 832 176 0
FLAG -352 -32 vi+
IOPIN -352 -32 In
FLAG 672 -208 vo+
IOPIN 672 -208 Out
FLAG 112 144 0
FLAG -16 144 0
FLAG 832 240 0
FLAG -352 448 vi-
IOPIN -352 448 In
FLAG 672 624 vo-
IOPIN 672 624 Out
FLAG 112 272 0
FLAG -16 272 0
SYMBOL res -64 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Q*R/(b+eps)}
SYMBOL res 144 -16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RG1
SYMATTR Value {R}
SYMBOL res 448 -16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RG3
SYMATTR Value {R}
SYMBOL res 640 -16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RG4
SYMATTR Value {R}
SYMBOL res 816 0 R0
SYMATTR InstName RG5
SYMATTR Value {R/(1-c+eps)}
SYMBOL cap 96 32 R0
SYMATTR InstName C1
SYMATTR Value {(1-a)*C0}
SYMBOL cap 320 -16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName CG2
SYMATTR Value {C0}
SYMBOL OpAmps\\opamp 512 -144 M180
SYMATTR InstName U1
SYMBOL OpAmps\\opamp 352 48 M0
SYMATTR InstName U2
SYMBOL res 0 112 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value {Q*R/(1-b+eps)}
SYMBOL cap -80 -176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {a*C0}
SYMBOL res -160 -288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RG2
SYMATTR Value {R/(c+eps)}
SYMBOL res -64 464 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value {Q*R/(b+eps)}
SYMBOL res 144 432 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RG6
SYMATTR Value {R}
SYMBOL res 448 432 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RG7
SYMATTR Value {R}
SYMBOL res 640 432 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RG8
SYMATTR Value {R}
SYMBOL res 816 416 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName RG9
SYMATTR Value {R/(1-c+eps)}
SYMBOL cap 96 384 M180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value {(1-a)*C0}
SYMBOL cap 320 432 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName CG1
SYMATTR Value {C0}
SYMBOL OpAmps\\opamp 512 560 R0
SYMATTR InstName U3
SYMBOL OpAmps\\opamp 352 368 R180
SYMATTR InstName U4
SYMBOL res 0 304 M0
SYMATTR InstName R4
SYMATTR Value {Q*R/(1-b+eps)}
SYMBOL cap -80 592 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C4
SYMATTR Value {a*C0}
SYMBOL res -160 704 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RG10
SYMATTR Value {R/(c+eps)}
TEXT -752 856 Left 2 !.inc opamp.sub
TEXT -744 896 Left 2 !.ac dec 1000 {f0/100} {f0*100}
TEXT 696 896 Left 2 !#.param Qz=5 wz=0.5 * w0
TEXT -752 1112 Left 3 ;Versión normalizada
TEXT -752 1160 Left 2 !*.param R=1 C=1 wnorm=1 f0=w0/2/pi
TEXT 696 848 Left 2 ;Full bicuad config
TEXT -752 1264 Left 2 !.param R=1/w0/C0 C0 = 1
TEXT -752 808 Left 3 ;Configuración de la simulación
TEXT 696 944 Left 2 !#.param c= k*wz*wz/w0/w0 a = (k+c)/2 b = k * wz / 2 / w0 *(Q/Qz + wz/w0)
TEXT 696 1040 Left 2 ;Low/High pass notch
TEXT 696 1136 Left 2 !#.param c= k*(wz/w0)**2 a = (k+c)/2 b = c/2
TEXT 696 1088 Left 2 !#.param  wz=.10 * wnorm
TEXT 296 856 Left 2 ;Highpass config
TEXT 296 904 Left 2 !#.param c= 0 b = 0 a = k/2
TEXT -216 904 Left 2 !.param k=1 Q=sqrt(2)/2 w0=1 * wnorm
TEXT 696 1240 Left 2 ;Allpass config
TEXT 696 1280 Left 2 !#.param c= 1 a = 1 b = 0
TEXT 304 1064 Left 2 ;Lowpass config
TEXT 304 1112 Left 2 !#.param c= k a = c/2 b = c/2
TEXT 296 960 Left 2 ;Bandpass config
TEXT 296 1008 Left 2 !#.param c= 0 a = 0 b = k/2
TEXT -752 1224 Left 2 ;Parámetros generales
TEXT -752 1040 Left 2 !.param eps = 1e-10
TEXT -752 976 Left 2 ;eps es un nro muy pequeño para\nevitar divisiones por cero, etc
TEXT -216 856 Left 2 ;SOS parametrization
TEXT 304 1160 Left 2 ;Notch config
TEXT 304 1208 Left 2 !#.param c= 1 a = 1 b = 1/2
