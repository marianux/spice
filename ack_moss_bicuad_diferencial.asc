Version 4
SHEET 1 2172 1280
WIRE 560 -944 192 -944
WIRE 1184 -944 640 -944
WIRE 192 -848 192 -944
WIRE 272 -848 192 -848
WIRE 432 -848 352 -848
WIRE 816 -848 768 -848
WIRE 976 -848 896 -848
WIRE 0 -752 -80 -752
WIRE 192 -752 192 -848
WIRE 192 -752 64 -752
WIRE 288 -752 192 -752
WIRE 432 -752 432 -848
WIRE 432 -752 352 -752
WIRE 976 -752 976 -848
WIRE 976 -752 880 -752
WIRE 1008 -752 976 -752
WIRE 1184 -752 1184 -944
WIRE 1184 -752 1088 -752
WIRE 656 -736 608 -736
WIRE 768 -736 768 -848
WIRE 768 -736 720 -736
WIRE 816 -736 768 -736
WIRE -80 -656 -80 -752
WIRE -80 -656 -304 -656
WIRE -16 -656 -80 -656
WIRE 192 -656 192 -752
WIRE 192 -656 64 -656
WIRE 288 -656 192 -656
WIRE 432 -640 432 -752
WIRE 432 -640 352 -640
WIRE 480 -640 432 -640
WIRE 608 -640 608 -736
WIRE 608 -640 560 -640
WIRE 720 -640 608 -640
WIRE 1184 -624 1184 -752
WIRE 1184 -624 784 -624
WIRE -80 -528 -80 -656
WIRE 304 -528 -80 -528
WIRE 608 -528 608 -640
WIRE 608 -528 384 -528
WIRE -80 -464 -80 -528
WIRE 720 -464 -80 -464
WIRE 976 -464 976 -752
WIRE 976 -464 800 -464
WIRE 720 -64 -80 -64
WIRE 976 -64 800 -64
WIRE -80 0 -80 -64
WIRE 304 0 -80 0
WIRE 608 0 384 0
WIRE 1184 96 784 96
WIRE 432 112 352 112
WIRE 480 112 432 112
WIRE 608 112 608 0
WIRE 608 112 560 112
WIRE 720 112 608 112
WIRE -80 128 -80 0
WIRE -80 128 -304 128
WIRE -16 128 -80 128
WIRE 192 128 64 128
WIRE 288 128 192 128
WIRE 608 208 608 112
WIRE 656 208 608 208
WIRE 768 208 720 208
WIRE 816 208 768 208
WIRE -80 224 -80 128
WIRE 0 224 -80 224
WIRE 192 224 192 128
WIRE 192 224 64 224
WIRE 288 224 192 224
WIRE 432 224 432 112
WIRE 432 224 352 224
WIRE 976 224 976 -64
WIRE 976 224 880 224
WIRE 1008 224 976 224
WIRE 1184 224 1184 96
WIRE 1184 224 1088 224
WIRE 192 320 192 224
WIRE 272 320 192 320
WIRE 432 320 432 224
WIRE 432 320 352 320
WIRE 768 320 768 208
WIRE 816 320 768 320
WIRE 976 320 976 224
WIRE 976 320 896 320
WIRE 192 416 192 320
WIRE 560 416 192 416
WIRE 1184 416 1184 224
WIRE 1184 416 640 416
FLAG 720 -608 0
FLAG 288 -624 0
FLAG 880 -720 0
FLAG 432 -640 vo+
IOPIN 432 -640 Out
FLAG -304 -656 vi+
IOPIN -304 -656 In
FLAG 720 80 0
FLAG 288 96 0
FLAG 880 192 0
FLAG 432 112 vo-
IOPIN 432 112 Out
FLAG -304 128 vi-
IOPIN -304 128 In
SYMBOL res 80 -672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {R/(d+eps)}
SYMBOL res 368 -864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Q*R}
SYMBOL res 656 -960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {R}
SYMBOL res 576 -656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {R}
SYMBOL res 912 -864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {R}
SYMBOL res 1104 -768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {R}
SYMBOL cap 720 -752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {C0}
SYMBOL cap 352 -768 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {C0}
SYMBOL OpAmps\\opamp 320 -704 R0
SYMATTR InstName U1
SYMBOL OpAmps\\opamp 752 -560 M180
SYMATTR InstName U2
SYMBOL OpAmps\\opamp 848 -800 M0
SYMATTR InstName U3
SYMBOL cap 64 -768 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value {C0*a}
SYMBOL res 400 -544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {R/(c+eps)}
SYMBOL res 816 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {R/(b+eps)}
SYMBOL res 80 144 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value {R/(d+eps)}
SYMBOL res 368 336 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value {Q*R}
SYMBOL res 656 432 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R11
SYMATTR Value {R}
SYMBOL res 576 128 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value {R}
SYMBOL res 912 336 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value {R}
SYMBOL res 1104 240 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value {R}
SYMBOL cap 720 224 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C4
SYMATTR Value {C0}
SYMBOL cap 352 240 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C5
SYMATTR Value {C0}
SYMBOL OpAmps\\opamp 320 176 M180
SYMATTR InstName U4
SYMBOL OpAmps\\opamp 752 32 R0
SYMATTR InstName U5
SYMBOL OpAmps\\opamp 848 272 R180
SYMATTR InstName U6
SYMBOL cap 64 240 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C6
SYMATTR Value {C0*a}
SYMBOL res 400 16 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value {R/(c+eps)}
SYMBOL res 816 -48 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R16
SYMATTR Value {R/(b+eps)}
TEXT -504 568 Left 2 !.inc opamp.sub
TEXT -496 608 Left 2 !*.ac dec 1000 {f0/100} {f0*100}
TEXT 944 608 Left 2 !#.param Qz=5 wz=0.5 * w0
TEXT -504 824 Left 3 ;Versión normalizada
TEXT -504 872 Left 2 !.param znorm=1 wnorm=1 f0=w0/2/pi
TEXT 944 560 Left 2 ;Full bicuad config
TEXT -504 976 Left 2 !.param R=znorm/w0/C0 C0 = 1
TEXT -504 520 Left 3 ;Configuración de la simulación
TEXT 944 656 Left 2 !#.param c= k*wz*wz/w0/w0 a = (k+c)/2 b = k * wz / 2 / w0 *(Q/Qz + wz/w0)
TEXT 944 752 Left 2 ;Low/High pass notch
TEXT 944 848 Left 2 !#.param a = k b = 0 c= k*(wz/w0)**2 d = 0
TEXT 944 800 Left 2 !#.param  wz=10 * wnorm
TEXT 544 568 Left 2 ;Highpass config
TEXT 544 616 Left 2 !#.param a = k b= 0 c = 0 d = 0
TEXT 16 616 Left 2 !.param k=10 Q=sqrt(2)/2 w0=1 * wnorm
TEXT 944 952 Left 2 ;Allpass config
TEXT 944 992 Left 2 !#.param a = 1 b= 1/Q c = 1 d = 0
TEXT 544 736 Left 2 ;Lowpass config
TEXT 544 784 Left 2 !#.param a = 0 b= 0 c = k d = 0
TEXT 72 736 Left 2 ;Bandpass config
TEXT 72 784 Left 2 !#.param a = 0 c = 0
TEXT -504 936 Left 2 ;Parámetros generales
TEXT -504 752 Left 2 !.param eps = 1e-10
TEXT -504 688 Left 2 ;eps es un nro muy pequeño para\nevitar divisiones por cero, etc
TEXT 16 568 Left 2 ;SOS parametrization
TEXT 544 928 Left 2 ;Notch config
TEXT 544 976 Left 2 !#.param a = 1 b= 0 c = 1 d = 0
TEXT 120 832 Left 2 ;inverting
TEXT 120 912 Left 2 ;Non-inverting
TEXT 152 872 Left 2 !#.param b = 0 d = k/Q
TEXT 152 952 Left 2 !#.param d = 0 b = k/Q
